# shellcheck disable=all
# Tool version management and lazy loading
# Uses mise as the primary version manager (replaces nvm/rbenv/asdf)

{{- if .mise }}
# mise - fast polyglot tool version manager
if command -v mise &>/dev/null; then
    eval "$(mise activate zsh)"
fi
{{- end }}

{{- if .direnv }}
# direnv - per-directory environment variables
if command -v direnv &>/dev/null; then
    eval "$(direnv hook zsh)"
fi
{{- end }}

{{- if .devenv }}
# devenv - nix-based development environments
if command -v devenv &>/dev/null; then
    : # devenv is already on PATH from nix
elif [[ -d /nix/var/nix/profiles/default/bin ]]; then
    export PATH="/nix/var/nix/profiles/default/bin:$PATH"
fi
{{- end }}
