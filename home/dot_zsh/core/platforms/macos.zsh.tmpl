# shellcheck disable=all
# macOS-specific environment setup
# This file contains chezmoi template syntax which will be processed by chezmoi

# Homebrew configuration
eval "$({{ .brewPrefix }}/bin/brew shellenv)"

# Apple Silicon specific configurations
if [[ "$(arch)" = "arm64" ]]; then
    eval "$(/opt/homebrew/bin/brew shellenv)"
else
    eval "$(/usr/local/bin/brew shellenv)"
fi

# macOS-specific aliases
alias copy="pbcopy"
alias paste="pbpaste"
alias flushdns="sudo dscacheutil -flushcache"

# Terminal integration
# Ghostty shell integration (primary terminal)
if [[ "$TERM_PROGRAM" == "ghostty" ]]; then
    # Ghostty has built-in shell integration
    :
# Fallback: iTerm2 integration
elif test -e "{{ .chezmoi.homeDir }}/.iterm2_shell_integration.zsh"; then
    source "{{ .chezmoi.homeDir }}/.iterm2_shell_integration.zsh"
fi
